---
/**
 * Sourdough Hydration Calculator Tool Page
 *
 * Calculate and adjust sourdough recipe hydration percentages.
 */

import BaseLayout from '../../components/layouts/BaseLayout.astro';
import SourdoughCalculator from '../../components/tools/SourdoughCalculator';
---

<BaseLayout
  title="Sourdough Hydration Calculator"
  description="Calculate sourdough bread hydration, adjust recipes to target percentages, and scale dough weights. Includes baker's percentages and helpful tips."
  keywords={['sourdough hydration calculator', 'bakers percentage', 'sourdough recipe calculator', 'bread hydration', 'sourdough bread calculator']}
  breadcrumbs={[
    { name: 'Home', url: '/' },
    { name: 'Tools', url: '/tools' },
    { name: 'Sourdough Hydration Calculator', url: '/tools/sourdough-calculator' }
  ]}
>
  <!-- Hero Section -->
  <section class="py-12 md:py-16 bg-gradient-to-b from-[var(--color-parchment)] to-[var(--color-cream)]">
    <div class="container">
      <div class="text-center max-w-3xl mx-auto mb-10">
        <!-- Breadcrumb -->
        <nav class="flex items-center justify-center gap-2 text-sm text-[var(--text-muted)] mb-6">
          <a href="/" class="hover:text-[var(--color-wine)] transition-colors">Home</a>
          <span>/</span>
          <a href="/tools" class="hover:text-[var(--color-wine)] transition-colors">Tools</a>
          <span>/</span>
          <span class="text-[var(--color-wine)]">Sourdough Calculator</span>
        </nav>

        <!-- Title -->
        <h1 class="text-display text-[var(--text-primary)] mb-4">
          Sourdough <span class="text-accent text-[var(--color-wine)]">Hydration Calculator</span>
        </h1>

        <!-- Description -->
        <p class="text-lg text-[var(--text-secondary)] max-w-2xl mx-auto">
          Calculate your dough's true hydration including the flour and water in your starter.
          Adjust recipes to target hydrations or scale to any dough weight.
        </p>
      </div>
    </div>
  </section>

  <!-- Tool Section -->
  <section class="py-12 md:py-16">
    <div class="container">
      <SourdoughCalculator client:load />
    </div>
  </section>

  <!-- Educational Content for SEO -->
  <section class="py-16 bg-white">
    <div class="container max-w-4xl">
      <hr class="divider mb-12" />

      <article class="prose prose-lg">
        <h2 class="text-display text-2xl font-semibold text-[var(--text-primary)] mb-6">
          Understanding Sourdough Hydration
        </h2>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-10">
          <div class="bg-[var(--color-cream)] rounded-xl p-6">
            <h3 class="font-display text-xl font-semibold mb-3 text-[var(--text-primary)]">
              What is Hydration?
            </h3>
            <p class="text-[var(--text-secondary)] text-base leading-relaxed">
              Hydration is the ratio of water to flour in your dough, expressed as a percentage.
              A 75% hydration dough has 75g of water for every 100g of flour. Higher hydration
              means wetter dough, more open crumb, but harder to handle.
            </p>
          </div>

          <div class="bg-[var(--color-cream)] rounded-xl p-6">
            <h3 class="font-display text-xl font-semibold mb-3 text-[var(--text-primary)]">
              Baker's Percentages
            </h3>
            <p class="text-[var(--text-secondary)] text-base leading-relaxed">
              In baker's math, all ingredients are expressed as a percentage of total flour.
              Flour is always 100%. This makes it easy to scale recipes and understand
              ratios regardless of batch size.
            </p>
          </div>
        </div>

        <h3 class="text-display text-xl font-semibold text-[var(--text-primary)] mb-4">
          The Starter Factor
        </h3>

        <div class="bg-amber-50 rounded-xl p-6 mb-10">
          <p class="text-[var(--text-secondary)]">
            <strong>Your starter contains both flour and water!</strong> A 100% hydration starter
            (equal parts flour and water by weight) contributes both to your total flour and total
            water. Our calculator accounts for this automatically.
          </p>
          <p class="text-[var(--text-secondary)] mt-3 text-sm">
            Example: 100g of 100% hydration starter = 50g flour + 50g water
          </p>
        </div>

        <h3 class="text-display text-xl font-semibold text-[var(--text-primary)] mb-4">
          Frequently Asked Questions
        </h3>

        <div class="space-y-4">
          <details class="group bg-[var(--color-cream)] rounded-lg p-5">
            <summary class="font-medium cursor-pointer list-none flex items-center justify-between text-[var(--text-primary)]">
              What hydration should I use for my first sourdough?
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="transform group-open:rotate-180 transition-transform">
                <path d="m6 9 6 6 6-6"/>
              </svg>
            </summary>
            <p class="mt-3 text-[var(--text-secondary)]">
              Start with 65-70% hydration. It's forgiving enough to learn shaping and handling
              while still producing a great loaf. As you gain confidence, gradually increase
              to 75-80% for a more open crumb.
            </p>
          </details>

          <details class="group bg-[var(--color-cream)] rounded-lg p-5">
            <summary class="font-medium cursor-pointer list-none flex items-center justify-between text-[var(--text-primary)]">
              Why does my high-hydration dough stick to everything?
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="transform group-open:rotate-180 transition-transform">
                <path d="m6 9 6 6 6-6"/>
              </svg>
            </summary>
            <p class="mt-3 text-[var(--text-secondary)]">
              High-hydration doughs need different handling techniques. Use wet hands instead
              of floured hands. Work quickly, use a bench scraper, and give the dough time
              to develop strength through stretch-and-folds. The gluten network needs time
              to form.
            </p>
          </details>

          <details class="group bg-[var(--color-cream)] rounded-lg p-5">
            <summary class="font-medium cursor-pointer list-none flex items-center justify-between text-[var(--text-primary)]">
              Does flour type affect hydration needs?
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="transform group-open:rotate-180 transition-transform">
                <path d="m6 9 6 6 6-6"/>
              </svg>
            </summary>
            <p class="mt-3 text-[var(--text-secondary)]">
              Absolutely! Whole wheat and rye flours absorb more water than white flour.
              Add 5-10% more hydration when using whole grains. Bread flour can handle higher
              hydration than all-purpose due to higher protein content.
            </p>
          </details>

          <details class="group bg-[var(--color-cream)] rounded-lg p-5">
            <summary class="font-medium cursor-pointer list-none flex items-center justify-between text-[var(--text-primary)]">
              What's the ideal salt percentage for sourdough?
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="transform group-open:rotate-180 transition-transform">
                <path d="m6 9 6 6 6-6"/>
              </svg>
            </summary>
            <p class="mt-3 text-[var(--text-secondary)]">
              Most bakers use 1.8-2.2% salt (baker's percentage). 2% is a good starting point.
              Salt strengthens gluten, controls fermentation, and adds flavor. Too little
              makes bread bland; too much inhibits yeast activity.
            </p>
          </details>
        </div>
      </article>
    </div>
  </section>

  <!-- Related Tools -->
  <section class="py-12 bg-[var(--color-cream)]">
    <div class="container">
      <h2 class="text-display text-xl font-semibold text-[var(--text-secondary)] mb-6 text-center">
        Related Baking Tools
      </h2>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 max-w-4xl mx-auto">
        <a href="/tools/yeast-converter" class="card bg-white hover:border-[var(--color-wine)] border border-transparent flex items-center gap-4 p-4">
          <div class="w-12 h-12 rounded-lg bg-amber-100 flex items-center justify-center text-amber-700">
            üü°
          </div>
          <div>
            <h4 class="font-medium text-[var(--text-primary)]">Yeast Converter</h4>
            <p class="text-sm text-[var(--text-muted)]">Convert between yeast types</p>
          </div>
        </a>

        <a href="/tools/pan-size-converter" class="card bg-white hover:border-[var(--color-wine)] border border-transparent flex items-center gap-4 p-4">
          <div class="w-12 h-12 rounded-lg bg-orange-100 flex items-center justify-center text-orange-700">
            üç∞
          </div>
          <div>
            <h4 class="font-medium text-[var(--text-primary)]">Pan Size Converter</h4>
            <p class="text-sm text-[var(--text-muted)]">Scale recipes for any pan</p>
          </div>
        </a>

        <a href="/tools/unit-converter" class="card bg-white hover:border-[var(--color-wine)] border border-transparent flex items-center gap-4 p-4">
          <div class="w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center text-blue-700">
            ‚öñÔ∏è
          </div>
          <div>
            <h4 class="font-medium text-[var(--text-primary)]">Unit Converter</h4>
            <p class="text-sm text-[var(--text-muted)]">Convert grams, cups, ounces</p>
          </div>
        </a>
      </div>
    </div>
  </section>
</BaseLayout>

<!-- FAQ Structured Data -->
<script type="application/ld+json" set:html={JSON.stringify({
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What hydration should I use for my first sourdough?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Start with 65-70% hydration. It's forgiving enough to learn shaping and handling while still producing a great loaf. Gradually increase to 75-80% as you gain confidence."
      }
    },
    {
      "@type": "Question",
      "name": "Why does my high-hydration dough stick to everything?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "High-hydration doughs need different handling. Use wet hands, work quickly, use a bench scraper, and give the dough time to develop strength through stretch-and-folds."
      }
    },
    {
      "@type": "Question",
      "name": "Does flour type affect hydration needs?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes! Whole wheat and rye flours absorb more water. Add 5-10% more hydration when using whole grains. Bread flour can handle higher hydration than all-purpose."
      }
    },
    {
      "@type": "Question",
      "name": "What's the ideal salt percentage for sourdough?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Most bakers use 1.8-2.2% salt (baker's percentage). 2% is a good starting point. Salt strengthens gluten, controls fermentation, and adds flavor."
      }
    }
  ]
})} />

<style>
  .prose {
    color: var(--text-secondary);
  }

  details > summary::-webkit-details-marker {
    display: none;
  }
</style>
