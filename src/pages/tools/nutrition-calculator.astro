---
/**
 * Nutrition Calculator Tool Page
 *
 * Interactive tool for calculating recipe nutritional information.
 */

import BaseLayout from '../../components/layouts/BaseLayout.astro';
import NutritionCalculator from '../../components/tools/NutritionCalculator';
---

<BaseLayout
  title="Recipe Nutrition Calculator"
  description="Calculate calories, macros, and complete nutritional breakdown for any recipe. Paste your ingredients to get per-serving nutrition facts instantly."
  keywords={['nutrition calculator', 'calorie counter', 'recipe calories', 'macro calculator', 'food nutrition', 'nutritional information']}
  breadcrumbs={[
    { name: 'Home', url: '/' },
    { name: 'Tools', url: '/tools' },
    { name: 'Recipe Nutrition Calculator', url: '/tools/nutrition-calculator' }
  ]}
>
  <!-- Hero Section -->
  <section class="py-12 md:py-16 bg-gradient-to-b from-[var(--color-parchment)] to-[var(--color-cream)]">
    <div class="container">
      <div class="text-center max-w-3xl mx-auto mb-10">
        <!-- Breadcrumb -->
        <nav class="flex items-center justify-center gap-2 text-sm text-[var(--text-muted)] mb-6">
          <a href="/" class="hover:text-[var(--color-wine)] transition-colors">Home</a>
          <span>/</span>
          <a href="/tools" class="hover:text-[var(--color-wine)] transition-colors">Tools</a>
          <span>/</span>
          <span class="text-[var(--color-wine)]">Nutrition Calculator</span>
        </nav>

        <!-- Title -->
        <h1 class="text-display text-[var(--text-primary)] mb-4">
          Recipe <span class="text-accent text-[var(--color-wine)]">Nutrition Calculator</span>
        </h1>

        <!-- Description -->
        <p class="text-lg text-[var(--text-secondary)] max-w-2xl mx-auto">
          Paste your recipe ingredients to get complete nutritional information.
          See calories, protein, carbs, fat, and more per serving.
        </p>
      </div>
    </div>
  </section>

  <!-- Tool Section -->
  <section class="py-12 md:py-16">
    <div class="container">
      <NutritionCalculator client:load />
    </div>
  </section>

  <!-- Educational Content for SEO -->
  <section class="py-16 bg-white">
    <div class="container max-w-4xl">
      <hr class="divider mb-12" />

      <article class="prose prose-lg">
        <h2 class="text-display text-2xl font-semibold text-[var(--text-primary)] mb-6">
          Understanding Recipe Nutrition
        </h2>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-10">
          <div class="bg-[var(--color-cream)] rounded-xl p-6">
            <h3 class="font-display text-xl font-semibold mb-3 text-[var(--text-primary)]">
              Macronutrients
            </h3>
            <p class="text-[var(--text-secondary)] text-base leading-relaxed">
              The three macros‚Äîprotein, carbohydrates, and fat‚Äîmake up the calories in your food.
              Protein and carbs provide 4 calories per gram, while fat provides 9 calories per gram.
              Understanding your macro balance helps with meal planning and dietary goals.
            </p>
          </div>

          <div class="bg-[var(--color-cream)] rounded-xl p-6">
            <h3 class="font-display text-xl font-semibold mb-3 text-[var(--text-primary)]">
              Serving Sizes Matter
            </h3>
            <p class="text-[var(--text-secondary)] text-base leading-relaxed">
              Nutrition information is only useful when you know the serving size. Our calculator
              lets you set the number of servings to get accurate per-portion data. This helps
              with portion control and meal prepping.
            </p>
          </div>
        </div>

        <h3 class="text-display text-xl font-semibold text-[var(--text-primary)] mb-4">
          Daily Value Reference
        </h3>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-3 mb-10">
          <div class="text-center p-4 bg-blue-50 rounded-lg">
            <span class="block text-lg font-bold text-blue-700">2,000</span>
            <span class="block text-xs text-blue-600">Daily Calories</span>
          </div>
          <div class="text-center p-4 bg-amber-50 rounded-lg">
            <span class="block text-lg font-bold text-amber-700">275g</span>
            <span class="block text-xs text-amber-600">Carbohydrates</span>
          </div>
          <div class="text-center p-4 bg-red-50 rounded-lg">
            <span class="block text-lg font-bold text-red-700">78g</span>
            <span class="block text-xs text-red-600">Total Fat</span>
          </div>
          <div class="text-center p-4 bg-green-50 rounded-lg">
            <span class="block text-lg font-bold text-green-700">50g</span>
            <span class="block text-xs text-green-600">Protein</span>
          </div>
        </div>

        <h3 class="text-display text-xl font-semibold text-[var(--text-primary)] mb-4">
          Frequently Asked Questions
        </h3>

        <div class="space-y-4">
          <details class="group bg-[var(--color-cream)] rounded-lg p-5">
            <summary class="font-medium cursor-pointer list-none flex items-center justify-between text-[var(--text-primary)]">
              How accurate is this nutrition calculator?
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="transform group-open:rotate-180 transition-transform">
                <path d="m6 9 6 6 6-6"/>
              </svg>
            </summary>
            <p class="mt-3 text-[var(--text-secondary)]">
              Our calculator uses USDA-based nutritional data for common ingredients.
              Results are estimates and may vary based on specific brands, preparation
              methods, and exact ingredient measurements. For medical dietary needs,
              consult a registered dietitian.
            </p>
          </details>

          <details class="group bg-[var(--color-cream)] rounded-lg p-5">
            <summary class="font-medium cursor-pointer list-none flex items-center justify-between text-[var(--text-primary)]">
              What's a healthy macro ratio?
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="transform group-open:rotate-180 transition-transform">
                <path d="m6 9 6 6 6-6"/>
              </svg>
            </summary>
            <p class="mt-3 text-[var(--text-secondary)]">
              General guidelines suggest 45-65% of calories from carbs, 10-35% from protein,
              and 20-35% from fat. However, optimal ratios vary based on individual goals,
              activity level, and health conditions. Athletes and those building muscle may
              benefit from higher protein intake.
            </p>
          </details>

          <details class="group bg-[var(--color-cream)] rounded-lg p-5">
            <summary class="font-medium cursor-pointer list-none flex items-center justify-between text-[var(--text-primary)]">
              Why isn't my ingredient recognized?
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="transform group-open:rotate-180 transition-transform">
                <path d="m6 9 6 6 6-6"/>
              </svg>
            </summary>
            <p class="mt-3 text-[var(--text-secondary)]">
              Our database includes the most common cooking ingredients. Try simplifying
              the ingredient name (e.g., "chicken breast" instead of "organic boneless
              skinless chicken breast"). Specialty ingredients, brand names, or complex
              prepared foods may not be recognized.
            </p>
          </details>

          <details class="group bg-[var(--color-cream)] rounded-lg p-5">
            <summary class="font-medium cursor-pointer list-none flex items-center justify-between text-[var(--text-primary)]">
              How do I reduce calories in a recipe?
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="transform group-open:rotate-180 transition-transform">
                <path d="m6 9 6 6 6-6"/>
              </svg>
            </summary>
            <p class="mt-3 text-[var(--text-secondary)]">
              Focus on the highest-calorie ingredients first. Reducing oil and butter,
              using leaner proteins, and adding more vegetables are effective strategies.
              Increasing the serving count (making smaller portions) also reduces per-serving
              calories. Try our substitution finder for lower-calorie alternatives.
            </p>
          </details>
        </div>
      </article>
    </div>
  </section>

  <!-- Related Tools -->
  <section class="py-12 bg-[var(--color-cream)]">
    <div class="container">
      <h2 class="text-display text-xl font-semibold text-[var(--text-secondary)] mb-6 text-center">
        Related Tools
      </h2>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 max-w-4xl mx-auto">
        <a href="/tools/recipe-scaler" class="card bg-white hover:border-[var(--color-wine)] border border-transparent flex items-center gap-4 p-4">
          <div class="w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center text-green-700">
            üìä
          </div>
          <div>
            <h4 class="font-medium text-[var(--text-primary)]">Recipe Scaler</h4>
            <p class="text-sm text-[var(--text-muted)]">Scale recipes up or down</p>
          </div>
        </a>

        <a href="/tools/substitution-finder" class="card bg-white hover:border-[var(--color-wine)] border border-transparent flex items-center gap-4 p-4">
          <div class="w-12 h-12 rounded-lg bg-amber-100 flex items-center justify-center text-amber-700">
            üîÑ
          </div>
          <div>
            <h4 class="font-medium text-[var(--text-primary)]">Substitution Finder</h4>
            <p class="text-sm text-[var(--text-muted)]">Find healthier alternatives</p>
          </div>
        </a>

        <a href="/tools/unit-converter" class="card bg-white hover:border-[var(--color-wine)] border border-transparent flex items-center gap-4 p-4">
          <div class="w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center text-blue-700">
            ‚öñÔ∏è
          </div>
          <div>
            <h4 class="font-medium text-[var(--text-primary)]">Unit Converter</h4>
            <p class="text-sm text-[var(--text-muted)]">Convert measurements</p>
          </div>
        </a>
      </div>
    </div>
  </section>
</BaseLayout>

<!-- FAQ Structured Data -->
<script type="application/ld+json" set:html={JSON.stringify({
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "How accurate is this nutrition calculator?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Our calculator uses USDA-based nutritional data for common ingredients. Results are estimates and may vary based on specific brands, preparation methods, and exact ingredient measurements."
      }
    },
    {
      "@type": "Question",
      "name": "What's a healthy macro ratio?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "General guidelines suggest 45-65% of calories from carbs, 10-35% from protein, and 20-35% from fat. However, optimal ratios vary based on individual goals, activity level, and health conditions."
      }
    },
    {
      "@type": "Question",
      "name": "Why isn't my ingredient recognized?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Our database includes the most common cooking ingredients. Try simplifying the ingredient name (e.g., 'chicken breast' instead of 'organic boneless skinless chicken breast')."
      }
    },
    {
      "@type": "Question",
      "name": "How do I reduce calories in a recipe?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Focus on the highest-calorie ingredients first. Reducing oil and butter, using leaner proteins, and adding more vegetables are effective strategies."
      }
    }
  ]
})} />

<style>
  .prose {
    color: var(--text-secondary);
  }

  details > summary::-webkit-details-marker {
    display: none;
  }
</style>
